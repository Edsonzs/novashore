<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>NovaStore - CRUD Usuarios</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; }
    header { background:#131921; color:white; padding:15px; display:flex; justify-content:space-between; }
    h1 { margin:0; }
    table { width:100%; border-collapse:collapse; margin-top:20px; background:white; }
    th, td { padding:10px; border-bottom:1px solid #ddd; }
    th { background:#232f3e; color:white; }
    button { padding:6px 10px; border:none; border-radius:4px; cursor:pointer; }
    .btn-add { background:#ffa41c; }
    .btn-edit { background:#007185; color:white; }
    .btn-delete { background:#d62828; color:white; }
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.5); justify-content:center; align-items:center; }
    .modal-content { background:white; padding:20px; border-radius:8px; width:300px; }
  </style>
</head>
<body>
  <header>
    <h1>NovaStore</h1>
    <button class="btn-add" onclick="openModal()">➕ Usuario</button>
  </header>

  <div class="container">
    <table id="userTable">
      <thead>
        <tr><th>ID</th><th>Nombre</th><th>Email</th><th>Acciones</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Modal -->
  <div id="userModal" class="modal">
    <div class="modal-content">
      <h2 id="modalTitle">Agregar Usuario</h2>
      <input id="name" placeholder="Nombre"><br><br>
      <input id="email" placeholder="Email"><br><br>
      <button onclick="saveUser()">Guardar</button>
      <button onclick="closeModal()">Cancelar</button>
    </div>
  </div>

  <script>
    let users = [
      {id:1, name:"Juan Pérez", email:"juan@example.com"},
      {id:2, name:"Ana Gómez", email:"ana@example.com"}
    ];
    let editingUserId = null;

    function renderTable() {
      const tbody = document.querySelector("#userTable tbody");
      tbody.innerHTML = "";
      users.forEach(user=>{
        tbody.innerHTML += `
          <tr>
            <td>${user.id}</td>
            <td>${user.name}</td>
            <td>${user.email}</td>
            <td>
              <button class="btn-edit" onclick="editUser(${user.id})">Editar</button>
              <button class="btn-delete" onclick="deleteUser(${user.id})">Eliminar</button>
            </td>
          </tr>`;
      });
    }

    function openModal(isEdit=false){
      document.getElementById("userModal").style.display="flex";
      document.getElementById("modalTitle").innerText=isEdit? "Editar Usuario":"Agregar Usuario";
    }
    function closeModal(){
      document.getElementById("userModal").style.display="none";
      document.getElementById("name").value="";
      document.getElementById("email").value="";
      editingUserId=null;
    }

    function saveUser(){
      const name=document.getElementById("name").value;
      const email=document.getElementById("email").value;
      if(!name||!email){ alert("Completa todos los campos"); return; }
      if(editingUserId){
        let u=users.find(x=>x.id===editingUserId);
        u.name=name; u.email=email;
      } else {
        users.push({id:users.length? users[users.length-1].id+1:1, name, email});
      }
      renderTable(); closeModal();
    }

    function editUser(id){
      let u=users.find(x=>x.id===id);
      document.getElementById("name").value=u.name;
      document.getElementById("email").value=u.email;
      editingUserId=id;
      openModal(true);
    }
    function deleteUser(id){
      if(confirm("¿Eliminar usuario?")){ users=users.filter(x=>x.id!==id); renderTable(); }
    }

    renderTable();
  </script>
</body>
</html>